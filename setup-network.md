# سكريبت إعداد الشبكة المحلية

## الخطوة 1: تحديد عنوان IP للخادم

### على Windows:
```cmd
ipconfig
```
ابحث عن سطر مثل:
```
IPv4 Address: 192.168.0.30
```

### على Mac:
```bash
ifconfig | grep inet
```

### على Linux:
```bash
hostname -I
```

## الخطوة 2: تحديد عنوان IP للتطبيق الأمامي

تأكد من أن الجهاز يعمل على نفس الشبكة (WiFi أو Ethernet).

```bash
# الحصول على IP الجهاز الحالي
# Windows
ipconfig

# Mac/Linux
hostname -I
```

## الخطوة 3: تحديث ملف البيئة

فتح `.env.local` وقم بتحديث:

```env
NEXT_PUBLIC_API_BASE_URL=http://192.168.0.30:3003
NEXT_PUBLIC_API_URL=http://192.168.0.30:3003
```

حيث `192.168.0.30` هو IP الخادم الفعلي.

## الخطوة 4: إعادة تشغيل التطبيق

```bash
npm run dev
```

## الخطوة 5: اختبار الاتصال

### من نفس الجهاز:
```
http://localhost:3000
```

### من جهاز آخر:
```
http://192.168.0.29:3000
```

حيث `192.168.0.29` هو IP الجهاز الذي يعمل عليه التطبيق.

## استكشاف الأخطاء

### اختبر اتصال الخادم:
```bash
# Windows
ping 192.168.0.30

# Mac/Linux
ping -c 4 192.168.0.30
```

### اختبر API الخادم:
```bash
curl http://192.168.0.30:3003/api/health
```

### ابحث عن أخطاء في المتصفح:
1. افتح Developer Tools: `F12`
2. انتقل إلى Console
3. لاحظ أي رسائل خطأ حمراء
4. تحقق من Network tab للطلبات الفاشلة

## النقاط المهمة:

✅ **تأكد من:**
- جميع الأجهزة على نفس شبكة WiFi
- الخادم يعمل ومستمع على المنفذ 3003
- جدار الحماية لا يحجب المنفذ
- عنوان IP صحيح وليس 127.0.0.1 أو localhost

❌ **لا تستخدم:**
- `localhost` - لن يعمل من أجهزة أخرى
- `127.0.0.1` - عنوان محلي للجهاز الواحد فقط
- عناوين IP غير صحيحة

## الخطوات التالية بعد الإصلاح:

1. تأكد من أن جميع الأجهزة يمكنها الوصول إلى الخادم
2. اختبر بدء جلسة جديدة من جهاز مختلف
3. اختبر جميع المميزات (QR Scanner, Orders, etc)
4. اختبر إعادة الاتصال بعد فقدان الإشارة
