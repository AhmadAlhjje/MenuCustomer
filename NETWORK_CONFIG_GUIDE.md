# ุฏููู ุญู ูุดููุฉ ุงููุตูู ูู ุฃุฌูุฒุฉ ูุชุนุฏุฏุฉ ุนูู ุงูุดุจูุฉ

## ุงููุดููุฉ ๐ด
ุนูุฏ ูุญุงููุฉ ูุชุญ ุงูุชุทุจูู ูู ุฌูุงุฒ ุขุฎุฑ ุนูู ููุณ ุงูุดุจูุฉ (ุนูู ุณุจูู ุงููุซุงู ูู ูุงุชู ุฐูู)ุ ูุธูุฑ ุฎุทุฃ "ูุดู ุจุฏุก ุงูุฌูุณุฉ".

## ุงูุณุจุจ ุงูุฌุฐุฑู
ุงูุชุทุจูู ููุนุฏ ููุงุชุตุงู ุจุฎุงุฏู ูุญุฏุฏ (IP: 192.168.0.30) ููุท. ุนูุฏูุง ุชุญุงูู ุงููุตูู ูู ุฌูุงุฒ ุขุฎุฑ:
1. **ุงูุฎุงุฏู ูุฏ ูููู ุนูู IP ูุฎุชูู** ูู ูุฌูุฉ ูุธุฑ ุงูุฌูุงุฒ ุงูุขุฎุฑ
2. **ุนุฏู ูุฌูุฏ ุชูููู CORS ุตุญูุญ** ูุฏ ูููุน ุงูุทูุจุงุช
3. **ุงูู WebSocket ูุฏ ูุง ูุนูุฏ ุงูุงุชุตุงู ุจุดูู ุตุญูุญ**

## ุงูุญู ุงูุดุงูู โ

### 1. ุชุญุฏูุซ ููู ุงูุจูุฆุฉ `.env.local`

```bash
# API Server Configuration
NEXT_PUBLIC_API_BASE_URL=http://192.168.0.30:3003
NEXT_PUBLIC_API_URL=http://192.168.0.30:3003
NEXT_TELEMETRY_DISABLED=1
```

**ููุงุญุธุฉ ูููุฉ:** ุงุณุชุจุฏู `192.168.0.30` ุจู IP ุงูุฌูุงุฒ ุงูุฐู ูุนูู ุนููู ุงูุฎุงุฏู Backend

### 2. ุงุฎุชุฑ ุงูุฎูุงุฑ ุงูููุงุณุจ ุญุณุจ ุญุงูุชู:

#### ุงูุฎูุงุฑ A: ุงูุฎุงุฏู ูุงูุชุทุจูู ุนูู ููุณ ุงูุฌูุงุฒ
```
NEXT_PUBLIC_API_BASE_URL=http://localhost:3003
NEXT_PUBLIC_API_URL=http://localhost:3003
```

#### ุงูุฎูุงุฑ B: ุงูุฎุงุฏู ุนูู ุฌูุงุฒ ุขุฎุฑ ูู ุงูุดุจูุฉ ุงููุญููุฉ
```
NEXT_PUBLIC_API_BASE_URL=http://192.168.x.x:3003
NEXT_PUBLIC_API_URL=http://192.168.x.x:3003
```
ุญูุซ `192.168.x.x` ูู IP ุฌูุงุฒ ุงูุฎุงุฏู

#### ุงูุฎูุงุฑ C: ุงูุฎุงุฏู ุนูู ุงูุฅูุชุฑูุช
```
NEXT_PUBLIC_API_BASE_URL=https://yourdomain.com:3003
NEXT_PUBLIC_API_URL=https://yourdomain.com:3003
```

### 3. ุงูุฎุทูุงุช ุงูุฅุฌุฑุงุฆูุฉ ูุญู ุงููุดููุฉ:

#### ุฃ) ุชุญุฏูุฏ IP ุงูุฎุงุฏู:
```bash
# ุนูู Windows
ipconfig

# ุนูู Mac/Linux
ifconfig
```
ุงุจุญุซ ุนู ุงูู IP ุงูุฐู ูุจุฏุฃ ุจู `192.168.x.x` ุฃู `10.0.x.x`

#### ุจ) ุชุญุฏูุซ `.env.local`:
```bash
NEXT_PUBLIC_API_BASE_URL=http://<SERVER_IP>:3003
NEXT_PUBLIC_API_URL=http://<SERVER_IP>:3003
```

#### ุฌ) ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู:
```bash
npm run dev
```

#### ุฏ) ุงููุตูู ูู ุฌูุงุฒ ุขุฎุฑ:
```
http://<FRONTEND_IP>:3000
```
ุญูุซ `<FRONTEND_IP>` ูู IP ุงูุฌูุงุฒ ุงูุฐู ูุนูู ุนููู ุงูุชุทุจูู ุงูุฃูุงูู

### 4. ุงุฎุชุจุงุฑ ุงูุงุชุตุงู:

#### ุชุญูู ูู ุฃู ุงูุฎุงุฏู ูุนูู:
```bash
# ูู ุฃู ุฌูุงุฒ ุนูู ุงูุดุจูุฉ
curl http://192.168.0.30:3003/api/health
```

#### ุชุญูู ูู ุฃู ุงูุชุทุจูู ูุนูู:
```bash
# ูู ุฃู ุฌูุงุฒ ุนูู ุงูุดุจูุฉ
curl http://192.168.0.29:3000
```

#### ุงูุชุญ ูููุณูู ุงููุชุตูุญ ูุงุจุญุซ ุนู ุงูุฃุฎุทุงุก:
1. ุงูุชุญ Developer Tools (`F12`)
2. ุงูุชูู ุฅูู ุชุจููุจ `Console`
3. ุงุจุญุซ ุนู ุฑุณุงุฆู ุงูุฎุทุฃ ุงููุชุนููุฉ ุจู `socket` ุฃู `API`

### 5. ุญู ูุดุงูู CORS (ุฅุฐุง ูุฒู ุงูุฃูุฑ):

ุฅุฐุง ุงุณุชูุฑุช ุงููุดุงููุ ูุฏ ุชุญุชุงุฌ ุฅูู ุชูููู CORS ูู ุงูุฎุงุฏู:

```javascript
// ูู backend (Node.js/Express)
const cors = require('cors');

app.use(cors({
  origin: ['http://192.168.0.29:3000', 'http://localhost:3000'],
  credentials: true,
  methods: ['GET', 'POST', 'PUT', 'DELETE'],
}));
```

### 6. ุชุญุณููุงุช ุชูุช ุฅุถุงูุชูุง:

#### ูู `src/lib/socket.ts`:
- โ ุชุณุฌูู ุฑุณุงุฆู ุชูุตูููุฉ ูุญุงูุฉ ุงูุงุชุตุงู
- โ ุฅุนุงุฏุฉ ูุญุงููุฉ ุงูุงุชุตุงู ุญุชู 15 ูุฑุฉ
- โ ุฏุนู ุงูุงุชุตุงู ูู ุฃุฌูุฒุฉ ูุชุนุฏุฏุฉ
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ููููุฏุฉ

#### ูู `src/app/qr/[code]/page.tsx`:
- โ ุชุณุฌูู ุงูู API Base URL ุงููุณุชุฎุฏู
- โ ุฑุณุงุฆู ุฎุทุฃ ููุตูุฉ ุญุณุจ ููุน ุงููุดููุฉ
- โ ุชุญุฏูุฏ ูุดุงูู ุงูุงุชุตุงู ุจูุถูุญ

## ุฌุฏูู ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ๐

| ุงูุฎุทุฃ | ุงูุณุจุจ ุงููุญุชูู | ุงูุญู |
|------|-------------|------|
| `Cannot connect to server` | ุงูุฎุงุฏู ูุง ูุนูู ุฃู IP ุบูุฑ ุตุญูุญ | ุชุญูู ูู IP ูุงููููุฐ |
| `QR Code invalid` | ููุฏ QR ุงูุชูุช ุตูุงุญูุชู | ุงุณุชุฎุฏู ููุฏ QR ุฌุฏูุฏ |
| `Connection refused` | ุงูุฎุงุฏู ุบูุฑ ูุงุจู ูููุตูู | ุชุฃูุฏ ูู ุดุจูุฉ ุงูู WiFi |
| `Timeout` | ุงูุดุจูุฉ ุจุทูุฆุฉ ุฃู ุบูุฑ ูุณุชูุฑุฉ | ุฃุนุฏ ุงููุญุงููุฉ ุจุนุฏ ุซูุงูู ููููุฉ |

## ููุงุญุธุงุช ุฅุถุงููุฉ:

1. **ุงูุดุจูุฉ ุงููุญููุฉ ููุท**: ูุฐุง ุงูุญู ูุนูู ููุท ุฅุฐุง ูุงูุช ุฌููุน ุงูุฃุฌูุฒุฉ ุนูู ููุณ ุงูุดุจูุฉ ุงููุญููุฉ
2. **ุฑูู ุงููููุฐ**: ุชุฃูุฏ ูู ุฃู ุงููููุฐ 3003 ููุชูุญ ูู ุฌุฏุงุฑ ุงูุญูุงูุฉ (Firewall)
3. **ุนูุงููู IP ุฏููุงููููุฉ**: ุฅุฐุง ูุงูุช ุนูุงููู IP ุชุชุบูุฑุ ุงุณุชุฎุฏู ุงุณูุงู ูููุทุงู (hostname) ุจุฏูุงู ูููุง
4. **HTTPS**: ุฅุฐุง ููุช ุชุณุชุฎุฏู HTTPSุ ุชุฃูุฏ ูู ุฃู ุงูุดูุงุฏุงุช ุตุญูุญุฉ

## ุชุญูู ูู ุงููุณุฎุฉ ุงููุญุฏุซุฉ:

```bash
git log --oneline -5
```

ุฌููุน ุงูุชุญุณููุงุช ุชู ุฅุถุงูุชูุง ุฅูู:
- โ `src/lib/socket.ts` - ุชุญุณูู ูุนุงูุฌุฉ ุงูุงุชุตุงู
- โ `src/app/qr/[code]/page.tsx` - ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- โ `.env.local` - ุชูุซูู ุงูุฅุนุฏุงุฏุงุช
